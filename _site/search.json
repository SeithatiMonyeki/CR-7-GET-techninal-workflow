[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "RLIe GET.html",
    "href": "RLIe GET.html",
    "title": "Red List Index of ecosystems assessments",
    "section": "",
    "text": "Here, we integrated data from the Ecosystem Description Database (EDD) with multiple Red List of Ecosystems (RLE) assessments to analyze temporal changes in ecosystem conservation status. The EDD dataset was filtered to include only terrestrial ecosystems recognized in the 2024 National Vegetation Map with valid 2024/5 RLE status. We extracted ecosystem classification variables (realm, code, type, bioregion, and biome) and IUCN Global Ecosystem Typology classifications (2022 Level 3 and 2025 Level 2), then joined these with the RLE assessments from 2014, 2018, 2020, and 2024. This integration enabled temporal analysis of threat status changes over the past decade, providing a comprehensive view of ecosystem classification, current conservation status, and historical trends for South African terrestrial ecosystems.\n\nEDD &lt;- read.csv(\"./data/EDDFullfile_L4L5_V4_17092025s.csv\") %&gt;%\n       filter(VT.Present.NVM.2024  %in% \"TRUE\",\n              Realm_GETL1 %in% c(\"Terrestrial\", \"Terrestrial/Freshwater\"),\n              RLE_2025 != \"#N/A\") %&gt;%\n       select(Realm_GETL1, \n              Code, \n              EcosystemType_GETLevel5_6, \n              BioregionGETL4_Biogeographic_ecotypes, \n              Biome..GET.L3._Ecosystem_Fuctional_Groups..GET.Level.3.,\n              IUCN_GET_2022_L3,\n              IUCN_GET_2025_L2)\n    \nRLE &lt;- readxl::read_excel(\"./data/multiple RLE assessments.xlsx\") %&gt;%\n       select(\"MapCode\",\n              \"Year.2014\",\n              \"RLE2014.adjusted\",\n              \"Year.2018\",\n              \"RLE2018.adjusted\",\n              \"Year.2020\",\n              \"RLE2020.adjusted\",\n              \"year.2024\",\n              \"RLE 2024 adjusted\")\n\ndata &lt;- EDD %&gt;%\n        left_join(RLE, by = c(\"Code\" = \"MapCode\"))"
  },
  {
    "objectID": "RLIe GET.html#data-integration-and-preparation",
    "href": "RLIe GET.html#data-integration-and-preparation",
    "title": "Red List Index of ecosystems assessments",
    "section": "",
    "text": "Here, we integrated data from the Ecosystem Description Database (EDD) with multiple Red List of Ecosystems (RLE) assessments to analyze temporal changes in ecosystem conservation status. The EDD dataset was filtered to include only terrestrial ecosystems recognized in the 2024 National Vegetation Map with valid 2024/5 RLE status. We extracted ecosystem classification variables (realm, code, type, bioregion, and biome) and IUCN Global Ecosystem Typology classifications (2022 Level 3 and 2025 Level 2), then joined these with the RLE assessments from 2014, 2018, 2020, and 2024. This integration enabled temporal analysis of threat status changes over the past decade, providing a comprehensive view of ecosystem classification, current conservation status, and historical trends for South African terrestrial ecosystems.\n\nEDD &lt;- read.csv(\"./data/EDDFullfile_L4L5_V4_17092025s.csv\") %&gt;%\n       filter(VT.Present.NVM.2024  %in% \"TRUE\",\n              Realm_GETL1 %in% c(\"Terrestrial\", \"Terrestrial/Freshwater\"),\n              RLE_2025 != \"#N/A\") %&gt;%\n       select(Realm_GETL1, \n              Code, \n              EcosystemType_GETLevel5_6, \n              BioregionGETL4_Biogeographic_ecotypes, \n              Biome..GET.L3._Ecosystem_Fuctional_Groups..GET.Level.3.,\n              IUCN_GET_2022_L3,\n              IUCN_GET_2025_L2)\n    \nRLE &lt;- readxl::read_excel(\"./data/multiple RLE assessments.xlsx\") %&gt;%\n       select(\"MapCode\",\n              \"Year.2014\",\n              \"RLE2014.adjusted\",\n              \"Year.2018\",\n              \"RLE2018.adjusted\",\n              \"Year.2020\",\n              \"RLE2020.adjusted\",\n              \"year.2024\",\n              \"RLE 2024 adjusted\")\n\ndata &lt;- EDD %&gt;%\n        left_join(RLE, by = c(\"Code\" = \"MapCode\"))"
  },
  {
    "objectID": "RLIe GET.html#step-1-define-function-to-assign-weights-to-rle-categories",
    "href": "RLIe GET.html#step-1-define-function-to-assign-weights-to-rle-categories",
    "title": "Red List Index of ecosystems assessments",
    "section": "Step 1: Define function to assign weights to RLE categories",
    "text": "Step 1: Define function to assign weights to RLE categories\nThe calcWeights() function takes two arguments:\n\ndata: a data frame containing ecosystem assessment information\nRLE_criteria: the name of the column containing RLE category codes (e.g. LC, NT, VU, EN, CR, CO).\n\nThis function also removes rows with missing RLE values and assigns numeric weights (0-5) to rank risk categories, with higher values indicating greater threat.\n\ncalcWeights &lt;- function(data, RLE_criteria) {\n  data &lt;- filter(data, !is.na(data[[RLE_criteria]]))\n  \n  data &lt;- mutate(data, category_weights = dplyr::case_match(.x = .data[[RLE_criteria]],\n                                         \"CO\" ~ 5,   \n                                         \"CR\" ~ 4,   \n                                         \"EN\" ~ 3,   \n                                         \"VU\" ~ 2,   \n                                         \"NT\" ~ 1,   \n                                         \"LC\" ~ 0, \n                                         .default = NA_real_))\n  return(data)\n}"
  },
  {
    "objectID": "RLIe GET.html#step-2-define-bootstrap-function-for-confidence-intervals",
    "href": "RLIe GET.html#step-2-define-bootstrap-function-for-confidence-intervals",
    "title": "Red List Index of ecosystems assessments",
    "section": "Step 2: Define bootstrap function for confidence intervals",
    "text": "Step 2: Define bootstrap function for confidence intervals\nUncertainty in RLIe values is quantified using non-parametric bootstrap resampling (i.e. no assumption being made about the shape of the data distribution as inputs are ordinal category weights, not continuous measurements & group sizes differ across GET levels).\nThe bootstrap_rlie() function:\n\nTakes a vector of category weights (0–5)\nRandomly resamples the weights with replacement\nRecalculates the RLIe score for each resample\nRepeats this process 5,000 times\nExtracts the 2.5th and 97.5th percentiles of the bootstrap distribution\n\nThese percentiles define a 95% confidence interval around the RLIe estimate, representing the range within which the true index value is likely to lie.\nCalculation of the index\nThese ordinal ranks are used to calculate the Red List Index for Ecosystems (RLIE) and the RLIE ranges from zero (all ecosystems Collapsed) to one (all Least Concern).\n\n\n\n\\[\nRLIE_t = 1- \\frac{\\sum_{i = 1}^{n} W_{C_{i,j}}}{W_{{CO}^n}}\n\\]\n\nWhere \\(W_{C_{i,j}}\\) represents the risk category rank for ecosystem \\(i\\) in year \\(t\\), with the following values:\n\nCollapsed = 5\nCritically Endangered = 4\nEndangered = 3\nVulnerable = 2\nNear Threatened = 1\nLeast Concern = 0\n\n\nbootstrap_rlie &lt;- function(weights, n_boot = 5000) { # vector of ecosystem weights (0-5) & bootstrap iterations (default= 1000)\n   boot_scores &lt;- replicate(n_boot, {\n       sampled &lt;- sample(weights, size = length(weights), replace = TRUE) # randomly picks weights with replacement\n    1 - (sum(sampled, na.rm = TRUE) / (length(sampled) * 5)) # calculates the RLIe score\n  })\n  quantile(boot_scores, probs = c(0.025, 0.975), na.rm = TRUE)\n}"
  },
  {
    "objectID": "RLIe GET.html#step-3-define-main-rlie-calculation-function",
    "href": "RLIe GET.html#step-3-define-main-rlie-calculation-function",
    "title": "Red List Index of ecosystems assessments",
    "section": "Step 3: Define main RLIE calculation function",
    "text": "Step 3: Define main RLIE calculation function\nThe calcRLIE() function calculates the Red List Index of Ecosystems (RLIe) for a dataset, either at the national level or grouped by one or more categorical variables (e.g., GET Level, year). It integrates two helper functions:\n\ncalcWeights() – converts RLE categories (LC → CO) into numeric weights (0–5)\nbootstrap_rlie() – performs non-parametric bootstrap resampling to generate confidence intervals\n\nThe function starts off by cleaning the data - removing unevaluated ecosystems, converts risk categories into numeric weights, and calculates RLIe scores either for the entire dataset or by groups (like GET levels and year). To account for uncertainty, it performs 5,000 bootstrap simulations to generate 95% confidence intervals around each score. The output is a table showing RLIe values with their confidence bounds.\n\ncalcRLIE &lt;- function(data, RLE_criteria, group1 = NULL, group2 = NULL, n_boot = 5000) {\n  \n  # ---- DATA CLEANING ----\n  # Remove ecosystems that are Not Evaluated (NE) or Data Deficient (DD)\n  data &lt;- dplyr::filter(data, !.data[[RLE_criteria]] %in% c(\"NE\", \"DD\"))\n  \n  # ---- WEIGHT ASSIGNMENT ----\n  # Call calcWeights() to convert RLE categories into numeric weights & drop NA rows\n  data &lt;- calcWeights(data, RLE_criteria)\n  data &lt;- tidyr::drop_na(data, category_weights)\n  \n  # ---- HANDLE MISSING VALUES IN GROUPING VARIABLES ----\n  # Drops rows with missing grouping variables (if provided) to ensure all groups are complete\n  if (!is.null(group1)) {\n    data &lt;- tidyr::drop_na(data, !!rlang::sym(group1))\n  }\n  \n  if (!is.null(group2)) {\n    data &lt;- tidyr::drop_na(data, !!rlang::sym(group2))\n  }\n  \n  # ---- GROUP THE DATA ----\n  # If one or two grouping variables are supplied, data is grouped accordingly.\n  # If no grouping variables are provided, a dummy group \"all\" is created so the workflow still works uniformly.\n  grouped &lt;- if (!is.null(group1) && !is.null(group2)) {\n    dplyr::group_by(data, group1 = .data[[group1]], group2 = .data[[group2]])\n    \n  } else if (!is.null(group1)) {\n    dplyr::group_by(data, group1 = .data[[group1]])\n    \n  } else if (!is.null(group2)) {\n    dplyr::group_by(data, group2 = .data[[group2]])\n    \n  } else {\n\n    dplyr::mutate(data, dummy_group = \"all\") %&gt;% dplyr::group_by(dummy_group)\n  }\n  \n  # ---- CALCULATE RLIE SCORES ----\n  result &lt;- summarise(grouped,\n                      total_weight = sum(category_weights, na.rm = TRUE),\n                      total_count = dplyr::n(),\n                      RLIE = 1 - (total_weight / (total_count * 5)),\n                      weights_list = list(category_weights), .groups = \"drop\") #store the individual weights as a list for bootstrap calculations\n\n\n  # ---- BOOTSTRAP CONFIDENCE INTERVALS ----\n  # purrr::map() applies bootstrap_rlie() to each group's ecosystem weights in weights_list.\n  # For each group, bootstrap_rlie() takes the weights (.x), resamples them with replacement,\n  # recalculates the RLIe for each resample, and returns the 95% CI.\n  bounds &lt;- purrr::map(result$weights_list, ~ bootstrap_rlie(.x, n_boot = n_boot))\n  bounds_df &lt;- do.call(rbind, bounds)\n  \n  # Add lower an and upper confidence bounds \n  result$lower &lt;- bounds_df[, 1]\n  result$upper &lt;- bounds_df[, 2]\n  \n  # ---- FINAL CLEANUP ----\n  # Add a column showing which RLE criteria column was analyzed\n  # Remove the weights_list column (no longer needed, keeps output clean)\n  result$criteria &lt;- RLE_criteria\n  result$weights_list &lt;- NULL\n  return(result)\n  \n}"
  },
  {
    "objectID": "RLIe GET.html#step-4-reshape-data-from-wide-to-long-format",
    "href": "RLIe GET.html#step-4-reshape-data-from-wide-to-long-format",
    "title": "Red List Index of ecosystems assessments",
    "section": "Step 4: Reshape data from wide to long format",
    "text": "Step 4: Reshape data from wide to long format\nThis code reshapes your ecosystem data from wide to long format, converting it from one row per ecosystem (with separate columns for each year’s assessment) to four rows per ecosystem (one per year). It consolidates all year-specific RLE assessments into a single Overall column, simplifies long column names, keeps only essential columns, and filters out missing data.\n\ncombined_data &lt;- data %&gt;%\n                 pivot_longer(cols = c(Year.2014, Year.2018, Year.2020, year.2024),\n                                       names_to = \"Year_col\",\n                                       values_to = \"Year\") %&gt;%\n                 mutate(Year = as.numeric(Year),\n                        Overall = case_when(Year == 2014 ~ RLE2014.adjusted,\n                                            Year == 2018 ~ RLE2018.adjusted,\n                                            Year == 2020 ~ RLE2020.adjusted,\n                                            Year == 2024 ~ `RLE 2024 adjusted`, TRUE ~ NA_character_),\n                                            Biome = `Biome..GET.L3._Ecosystem_Fuctional_Groups..GET.Level.3.`, \n                                            GET_L2 = `IUCN_GET_2025_L2`,\n                                            GET_L3 = `IUCN_GET_2022_L3`) %&gt;%\n                select(Realm_GETL1, Code, Biome, GET_L2, GET_L3, Year, Overall) %&gt;%\n                filter(!is.na(Year), !is.na(Overall))"
  },
  {
    "objectID": "RLIe GET.html#step-5-calculate-rlie-by-get-and-year-national-rlie-by-year",
    "href": "RLIe GET.html#step-5-calculate-rlie-by-get-and-year-national-rlie-by-year",
    "title": "Red List Index of ecosystems assessments",
    "section": "Step 5: Calculate RLIE by GET and Year, national RLIE by Year",
    "text": "Step 5: Calculate RLIE by GET and Year, national RLIE by Year\n\n#--------- RLIE Calculation: GET Level 2 by Year ---------\nRLIe_GET_L2 &lt;- calcRLIE(combined_data, \n                        RLE_criteria = \"Overall\", \n                        group1 = \"GET_L2\", \n                        group2 = \"Year\",\n                        n_boot = 5000) %&gt;%\n               rename(GET_L2 = group1,\n                      Year = group2) \n\n#--------- RLIE Calculation: GET Level 3 by Year ---------\nRLIe_GET_L3 &lt;- calcRLIE(combined_data, \n                        RLE_criteria = \"Overall\", \n                        group1 = \"GET_L3\", \n                        group2 = \"Year\",\n                        n_boot = 5000) %&gt;%\n               rename(GET_L3 = group1,\n                      Year = group2)\n\n#--------- Calculate RLIE: national ---------\nRLIe_national &lt;- calcRLIE(combined_data,\n                          RLE_criteria = \"Overall\",\n                          group2 = \"Year\",\n                          n_boot = 5000) %&gt;%\n                 mutate(Analysis_Level = \"Aggregate\")  # placeholder for uniform binding\n\n#--------- Combine results ---------\nRLIe_all &lt;- bind_rows(RLIe_GET_L2, RLIe_GET_L3, RLIe_national)"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "7th Country Reporting",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites.\n\n1 + 1\n\n[1] 2"
  }
]